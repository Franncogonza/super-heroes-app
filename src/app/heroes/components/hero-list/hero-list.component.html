<ng-container *ngIf="!isLoading">
  <div class="container">
    <div class="row">
      <hero-header
        [heroes]="heroes"
        [term]="term"
        (addHeroClicked)="showAddHero()"
        (filterCleared)="clearFilter()"
      ></hero-header>

      <!-- Lista de héroes -->
      <div class="row mt-3">
        <div
          *ngFor="
            let heroe of paginatedHeroes;
            trackBy: trackByIndex;
            let i = index
          "
          class="col-lg-4 col-md-6 col-12 mb-4"
        >
          <hero-card
            [hero]="heroe"
            (viewHero)="handleViewHero($event)"
            (editHero)="handleEditHero($event)"
            (deleteHero)="handleDeleteHero($event)"
          ></hero-card>
        </div>
      </div>
    </div>

    <!-- btn volver -->
    <div class="card-footer mt-3 text-center">
      <button
        class="btn btn-outline-secondary"
        style="min-width: 100px"
        (click)="onBack()"
      >
        Back
      </button>
    </div>
  </div>
</ng-container>

<!-- Modal de confirmación -->
<ng-container *ngIf="showModal">
  <confirm-modal
    class="mt-3"
    [modalText]="modalText"
    (onConfirm)="confirmDelete()"
    (onClose)="closeDeleteModal()"
  ></confirm-modal>
</ng-container>

<!-- Paginación -->
<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="totalPages > 1">
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <button
            class="page-link"
            (click)="changePage(currentPage - 1)"
            [disabled]="currentPage === 1"
          >
            Anterior
          </button>
        </li>
        <li
          class="page-item"
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="currentPage === i + 1"
        >
          <button class="page-link" (click)="changePage(i + 1)">
            {{ i + 1 }}
          </button>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <button
            class="page-link"
            (click)="changePage(currentPage + 1)"
            [disabled]="currentPage === totalPages"
          >
            Siguiente
          </button>
        </li>
      </ul>
    </nav>
  </ng-container>
</ng-container>
